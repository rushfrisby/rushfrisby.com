<!doctype html>
<html lang="en">
    <head>
        <title>Rush Frisby</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="/css/bootstrap.min.css" />
        <link rel="stylesheet" href="/css/site.css" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
    </head>
    <body>
        <div class="container-fluid p-0" id="header">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="container">
                    <a class="navbar-brand" href="/">Rush Frisby</a>
                    <button class="navbar-toggler" type="button" onclick="document.getElementById('navbar-toggle').checked = !document.getElementById('navbar-toggle').checked; return false;">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <input type="checkbox" id="navbar-toggle" style="display: none;">
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/about">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/keyboards">Keyboards</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/tags">Tags</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/archive">Archive</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
            
        <div class="container">
            <div class="row" id="main">
                    <div class="col-md-9">

<article>
    <h2>Cast Hacking</h2>
    <time datetime="3/20/2014 10:11:39 AM -04:00">Published on Thu, 20 Mar 2014 14:11:39 GMT</time>
    <div class="content">
        <p>Have you ever wanted to cast a base class into a subclass? Consider these two classes:</p>
<p>public class Animal { } public class Dog : Animal { }</p>
<p>Because of the inheritance we can create an Animal from a Dog because we know that Dog has all of the necessary properties to set on Animal. Quick example:</p>
<p>var dog = new Dog(); var animal = (Animal) dog;</p>
<p>This works in .NET. But what if you wanted to create a Dog from an Animal? Unfortunately Dog may have some properties that Animal doesn’t and so you will get an exception at runtime when trying to cast from an Animal to a Dog:</p>
<p>var animal = new Animal(); var dog = (Dog) animal;</p>
<p>Causes this runtime exception:</p>
<p>An unhandled exception of type 'System.InvalidCastException' occurred. Additional information: Unable to cast object of type 'Animal' to type 'Dog'.</p>
<p>Getting around this casting issue means you would have to create a new Animal, then for every property on Animal set the value to the corresponding property on Dog. THAT SUCKS. Who has time or the memory to keep that conversion up-to-date? What happens when you add a new property to Animal – will you remember to update this property-copying code as well?</p>
<p>It wasn’t intended specifically for getting around casting issues but for property copying <a href="https://github.com/AutoMapper/AutoMapper">Automapper</a> is AWESOME! It does pretty much what you would expect. It maps the properties of one class to another so you don’t have this problem of manually maintaining the mappings. Here is how you can create an Animal from a Dog using Automapper:</p>
<p>Mapper.CreateMap&lt;Animal, Dog&gt;(); var animal = new Animal(); var dog = Mapper.Map&lt;Animal, Dog&gt;(animal);</p>
<p>For the properties of Dog that Animal doesn’t have, if the property is a value type it’s value will be the type’s default value and for reference types the value will be null. Simple huh?</p>

    </div>
    <div class="tags">
        Tags: <a href="/tag/automapper">automapper</a>
    </div>
</article>
                </div>
                <div class="col-md-3">
                    <div class="card mb-3">
                        <h5 class="card-header text-white bg-secondary">Hello</h5>
                        <div class="card-body">
                            <p class="center"><img src="/img/rush_headshot_2018_256-min.jpg" title="Rush Frisby" alt="Rush Frisby" width="213" height="213" /></p>
                            <p>Rush is a software architect who loves solving problems. You'll usually find him writing about security concepts and sharing solutions to problems he's faced.</p>
                        </div>
                    </div>
                    <div class="card mb-3">
                        <h5 class="card-header text-white bg-secondary">Recent Posts</h5>
                        <div class="list-group list-group-flush">
                            <div class="list-group">
                                <a href="/doin-it-again" class="list-group-item list-group-item-action">Doin it again</a>
                                <a href="/interfacerpc-20" class="list-group-item list-group-item-action">InterfaceRpc 2.0</a>
                                <a href="/interface-to-rpc-service" class="list-group-item list-group-item-action">Interface to RPC Service</a>
                                <a href="/losing-our-memory" class="list-group-item list-group-item-action">Losing Our Memory</a>
                                <a href="/are-coding-bootcamps-worth-it" class="list-group-item list-group-item-action">Are Coding Bootcamps Worth It?</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" id="footer">
                <div class="col">
                    <p><a href="https://github.com/rushfrisby/rushfrisby.com" target="_blank">Published to github</a> using a <a href="https://github.com/rushfrisby/RushBlog" target="_blank">blog engine</a> I wrote!</p>
                </div>
            </div>
        </div>
    </body>
</html>
