<!doctype html>
<html lang="en">
    <head>
        <title>Rush Frisby</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="/css/bootstrap.min.css" />
        <link rel="stylesheet" href="/css/site.css" />
    </head>
    <body>
        <div class="container-fluid p-0" id="header">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="container">
                    <a class="navbar-brand" href="/">Rush Frisby</a>
                    <button class="navbar-toggler" type="button" onclick="document.getElementById('navbar-toggle').checked = !document.getElementById('navbar-toggle').checked; return false;">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <input type="checkbox" id="navbar-toggle" style="display: none;">
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/about">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/keyboards">Keyboards</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/tags">Tags</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/archive">Archive</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
            
        <div class="container">
            <div class="row" id="main">
                    <div class="col-md-9">

<article>
    <h2>Choosing a service framework</h2>
    <time datetime="6/9/2014 8:45:05 PM -04:00">Published on Tue, 10 Jun 2014 00:45:05 GMT</time>
    <div class="content">
        <p>The release of Web API marks what I count as the 4th service framework Microsoft has released for .NET. In this post I will discuss my reasoning behind which one to use. Here are the 4 in order of when they were released:</p>
<ol>
<li>ASMX Web Services</li>
<li>WCF Services</li>
<li>OData</li>
<li>Web API</li>
</ol>
<p>These aren’t all upgrades from one to the other despite what popular culture may dictate. There are actually good cases for using each one of these.</p>
<p>…except ASMX Web Services. You should never create anything using this. When I see vendors who still use this technology I cringe and will not use them at all. It’s a sign that they haven’t kept up with technology. It’s not just old products using this. It can be new products too – ones that have old developers who aren’t up to speed. Old does not necessarily mean “mature” or “weathered”. Actually in the cases I’ve seen it means those services are full of bugs and the developers are slow to fix them.</p>
<h3>WCF Services</h3>
<p>This is the one technology that was meant to handle all web service scenarios. It completely replaces ASMX. The pros of using WCF are that you get a contract to code against, it’s fast and flexible, and it works over all kinds of protocols. The downside is that it takes more work to setup and the configuration choices can be confusing. It’s been out for a while and so I think it’s lost that “new hotness” appeal, but overall WCF is the best option for creating a serious service. I choose to create WCF services when I am building an internal Service Oriented Architecture. The reason for this is because I can use special protocols which make communication faster. For example I use net.tcp for internal client to server or server to server communication. net.tcp does binary serialization which is fast. For services that are talking to each other on the same machine it gets even better because you can use net.pipe. In this case nothing is serialized at all – the communication happens in-memory which is the fastest way possible. It’s like hooking up your brain to another person’s brain and just <em>thinking</em> to each other. WCF Services can be hosted by any .NET application type. Most typically that means through IIS or as a Windows Service. I prefer to host through a Windows Service so that the service is readily available whereas IIS application pools can shut down and will take a while to start back up when a new request is made of it. OData and Web API can’t do any of these things.</p>
<h3>OData</h3>
<p>This was meant to be used for broad access to shared data. OData hooks up a database directly to a web service. It makes the data query-able through manipulating the query string. A good example for OData would be for the US Census Bureau to share yearly survey results with the public over the internet. Or for a library to share it’s catalog of books and media over the internet. This type of web service is less common. It should never be used with a transactional database.</p>
<h3>Web API</h3>
<p>I’m not exactly sure why this technology was created other than to say Microsoft has a REST based API solution. It has evolved into a useful solution over time though. It’s is a good choice for public services being accessed over the internet. The two most prominent features are: 1) Content coming from the client is deserialized based on the Content-Type (header value) and serialized back to the client in the same format. The most common content types are <a href="http://www.w3.org/XML/">XML</a>, <a href="http://www.json.org/">JSON</a>, and <a href="http://bsonspec.org/">BSON (binary JSON)</a> 2) It follows the same pattern as <a href="http://www.asp.net/mvc">ASP.NET MVC</a> so it’s easy to pick up for developers familiar with that technology. Because Web API is the “new hotness” a lot of folks have been creating these types of services instead of WCF, even when WCF is more appropriate. It’s not an upgrade. Web API and WCF are useful for different scenarios. Usually when I create a Web API service I put a WCF service layer behind it because you normally don’t just have a standalone API. Most of the time you have an accompanying application which uses the same functionality as the API.</p>

    </div>
    <div class="tags">
        Tags: <a href="/tag/odata">odata</a> <a href="/tag/soa">soa</a> <a href="/tag/wcf">wcf</a>
    </div>
</article>
                </div>
                <div class="col-md-3">

                        <div class="box sidebox about">
                                <div class="sidebox-title">About</div>
                                <div class="sidebox-content">



                    <div class="card mb-3">
                        <h5 class="card-header text-white bg-secondary">Hello</h5>
                        <div class="card-body">
                            <p class="center"><img src="/img/rush_headshot_2018_256-min.jpg" title="Rush Frisby" alt="Rush Frisby" width="200" height="200" /></p>
                            <p>Rush is a software architect who loves solving problems. You'll usually find him writing about security concepts and sharing solutions to problems he's faced.</p>
                        </div>
                    </div>
                    <div class="card mb-3">
                        <h5 class="card-header text-white bg-secondary">Recent Posts</h5>
                        <div class="list-group list-group-flush">
                            <div class="list-group">
                                <a href="/interfacerpc-20" class="list-group-item list-group-item-action">InterfaceRpc 2.0</a>
                                <a href="/interface-to-rpc-service" class="list-group-item list-group-item-action">Interface to RPC Service</a>
                                <a href="/losing-our-memory" class="list-group-item list-group-item-action">Losing Our Memory</a>
                                <a href="/are-coding-bootcamps-worth-it" class="list-group-item list-group-item-action">Are Coding Bootcamps Worth It?</a>
                                <a href="/meetup-using-protobuf-in-net" class="list-group-item list-group-item-action">Meetup: Using Protobuf in .NET</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" id="footer">
                <div class="col">
                    <p>Proudly <a href="https://github.com/rushfrisby/RushBlog" target="_blank">published with my own blog engine on github</a></p>
                </div>
            </div>
        </div>
    </body>
</html>
